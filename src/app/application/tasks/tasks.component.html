<div class="controls">
  <label class="search-label">
    <span class="material-symbols-outlined naked circle small size-20">search</span>
    <input [(ngModel)]=searchString placeholder=Search />
  </label>
  <button class="material-symbols-outlined naked circle small size-20" [ngClass]="{'success': showCompleted}" (click)="showCompleted = !showCompleted; getTasks()">filter_list</button>
  <button class="material-symbols-outlined naked circle small size-20" (click)=openModal()>add</button>
</div>
<div class="task-list">
  @for (task of taskList() | search:searchString; track task.id) {
  <div class="task" appIntersectionObserver [ngClass]="{'complete': task.complete}" animate.leave="exit-animation">
    <header>
      <h6>{{task.summary}}</h6>
    </header>
    <div class="description">
      <p>{{task.description}}</p>
    </div>
    <div class="task-controls">
      @if (task.timeEstimate) {
        <app-progress-bar [task]=task />
      }
      <div class="task-menu">
          <button class="material-symbols-outlined naked circle small size-20" (click)=openModal(task)>edit</button>
          <button class="material-symbols-outlined naked circle small size-20" (click)="toggleComplete(task)">check</button>
          <button class="material-symbols-outlined naked circle small size-20">menu_open</button>
      </div>
    </div>
  </div>
  } @empty {
    No tasks
  }
</div>
